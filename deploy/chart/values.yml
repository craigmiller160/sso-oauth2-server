app-deployment:
  appName: sso-oauth2-server
  image: nexus-docker-craigmiller160.ddns.net/sso-oauth2-server:latest
  configMaps:
    - sso-oauth2-server-config
  secrets:
    - envVariable: spring.datasource.username
      secretName: postgres-root-account
      secretKey: username
    - envVariable: spring.datasource.password
      secretName: postgres-root-account
      secretKey: password
  livenessProbe:
    httpGet:
      path: /actuator/health
      port: 8443
      scheme: HTTPS
  ports:
    - containerPort: 8443
secure_ingress:
  name: sso-oauth2-server-ingress
  backendIsHttps: true
  hosts:
  - name: apps-craigmiller160.ddns.net
    services:
      - path: /oauth2/(.*)?
        serviceName: sso-oauth2-server
        portNumber: 8443